<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All Books</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <div id="header-container"></div>
    
    <br>

    <section id="categories" class="categories">

        <div class="section-header-container">
            <h2 class="section-title">ALL BOOKS</h2>
        </div>
        <div class="media-grid">

            <a href="book-description.html?id=book1" class="book-link" 
                data-id="book1"
                data-title="One Punch Man"
                data-genre="Action, Comedy, Superhero"
                data-author="One"
                data-synopsis="One-Punch Man tells the story of Saitama, a very powerful superhero. He has grown bored due to the lack of challenge in his fight against evil."
                data-poster="images/books/one-punch-man.jpg"
                data-screenshots='["images/books/screenshots/opm1.jpg", "images/books/screenshots/opm2.jpg", "images/books/screenshots/opm3.jpg", "images/books/screenshots/opm4.jpeg"]'
                data-read-url="https://readonepunch-man.com/">

                <div class="media-card animate">
                    <img src="images/books/one-punch-man.jpg" alt="One Punch Man" class="media-img">
                    <div class="glow-overlay"></div>
                    <div class="media-content">
                        <span class="media-type">Manga</span>
                        <h3 class="media-title">One Punch Man</h3>
                        <p class="media-desc">One-Punch Man tells the story of Saitama, a very powerful superhero. He has grown bored due to the lack of challenge in his fight against evil.</p>
                    </div>
                </div>
            </a>

        </div>
    </section>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            document.querySelectorAll('.book-link').forEach(link => {
                link.addEventListener('click', function (event) {
                    event.preventDefault(); // Prevent the default anchor behavior

                    const bookData = {
                        id: this.getAttribute('data-id'),
                        title: this.getAttribute('data-title'),
                        genre: this.getAttribute('data-genre'),
                        author: this.getAttribute('data-author'),
                        synopsis: this.getAttribute('data-synopsis'),
                        poster: this.getAttribute('data-poster'),
                        screenshots: JSON.parse(this.getAttribute('data-screenshots')),
                        readUrl: this.getAttribute('data-read-url')
                    };

                    console.log('Screenshots:', bookData.screenshots);
                    console.log('Screenshots:', bookData.readUrl);

                    localStorage.setItem('selectedBook', JSON.stringify(bookData));
                    window.location.href = this.getAttribute('href');
                });
            });
        });

    </script>
    
    <div id="footer-container"></div>
    <script src="script.js"></script>

</body>
</html>
